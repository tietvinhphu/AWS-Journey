name: Auto Close Pull Requests

on:
  pull_request:
    types: [opened, reopened]

permissions:
  pull-requests: write

jobs:
  auto-close:
    runs-on: ubuntu-latest
    steps:
      - name: Close Pull Request
        uses: actions/github-script@v6
        with:
          script: |
            // Add a comment explaining why
            await github.rest.issues.createComment({
              owner: context.repo.owner,
              repo: context.repo.repo,
              issue_number: context.issue.number,
              body: "ğŸš« **Xin chÃ o!** Cáº£m Æ¡n báº¡n Ä‘Ã£ quan tÃ¢m.\n\nÄÃ¢y lÃ  repository cÃ¡ nhÃ¢n lÆ°u trá»¯ hÃ nh trÃ¬nh há»c táº­p, vÃ¬ váº­y mÃ¬nh **khÃ´ng nháº­n Pull Request** Ä‘Ã³ng gÃ³p vÃ o code lÃµi.\n\nNáº¿u báº¡n cÃ³ tháº¯c máº¯c hoáº·c gÃ³p Ã½, vui lÃ²ng táº¡o **Issue** nhÃ©! PR nÃ y sáº½ Ä‘Æ°á»£c Ä‘Ã³ng tá»± Ä‘á»™ng. ChÃºc má»™t ngÃ y tá»‘t lÃ nh! ğŸ‘‹"
            });

            // Close the PR
            await github.rest.pulls.update({
              owner: context.repo.owner,
              repo: context.repo.repo,
              pull_number: context.issue.number,
              state: 'closed'
            });
